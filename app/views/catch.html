<header>
    <md-toolbar>
        <div class="md-toolbar-tools" layout-align="center end">
            <a ng-href="#/stream" class="material-icons">arrow_back</a>
            <div flex></div>
            <a ng-href="#/search" class="material-icons" layout-margin>search</a>
            <a ng-href="#/user/{{currentUser.id}}" class="material-icons" layout-margin>person</a>
        </div>
    </md-toolbar>
</header>
<div class="stream">  
    <div class="stream-item">      
        <div class="stream-item__body">
            <div layout layout-align="center center" >
                <img src="images/avatar.png" alt="avatar"/> 
                <p class="md-body-1" flex><a ng-href="#/user/{{vm.catch.owner.id}}">{{vm.catch.owner.username}}</a></p>
                <p class="md-subhead" ng-style="{ 'color' : (vm.catch.liked) ? '#bd320f' : '#c2c2d6' }">{{vm.catch.likes}}</p> 
                <div class="material-icons" aria-label="Favorite" ng-style="{'color' : (vm.catch.liked) ? '#bd320f' : '#c2c2d6' }" ng-click="likePhoto(vm.catch)">favorite</div>
            </div> 
        </div>            
        <a ng-href="#/catch/{{vm.catch.id}}"><img ng-src="{{vm.catch.fishPhoto}}" class="img-responsive fish-photo"></a>
        <div class="stream-item__body">
            <div layout>
                <div layout="column" flex>
                    <p class="md-body-1"><a ng-href="#/user/{{vm.catch.owner.id}}">{{vm.catch.location}}</a></p>
                    <p class="md-subhead">{{vm.catch.title}}</p>
                </div>
                <div layout="column">
                    <p class="md-caption"><a ng-href="#/catch/{{vm.catch.id}}" am-time-ago="vm.catch.created_at"></a></p>
                    <p class="md-body-1" ng-show="vm.catch.length>0">{{vm.catch.length}} inches </p>
                </div>
            </div>           
            <div class="comments">
                <p class="md-caption" ng-repeat="comment in vm.catch.comments"><a ng-href="#/user/{{comment.owner.id}}">{{comment.owner.username}}</a> {{ comment.text }}</p>
            </div> 
            <div layout layout-align="space-between end">
                <md-input-container flex="60">
                    <label>Comment</label>
                    <input ng-model="vm.newComment.text">
                </md-input-container>                
                <md-button class="md-raised md-primary" ng-show="vm.newComment.text.length > 0" ng-click="vm.postComment(vm.newComment.text)">Submit</md-button>               
            </div>                         
        </div>
    </div>
</div>

